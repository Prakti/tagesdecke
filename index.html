<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tagesdecke API Documentation</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Tagesdecke","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"Tagesdecke API Documentation","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Tagesdecke</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="AuthError">
            <span class="title">
                <a href="AuthError.html">AuthError</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="AuthError#body"><a href="AuthError.html#body">body</a></li>
            
                <li data-name="AuthError#data"><a href="AuthError.html#data">data</a></li>
            
                <li data-name="AuthError#response"><a href="AuthError.html#response">response</a></li>
            
                <li data-name="AuthError#statusCode"><a href="AuthError.html#statusCode">statusCode</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Connection">
            <span class="title">
                <a href="Connection.html">Connection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Connection#passwd"><a href="Connection.html#passwd">passwd</a></li>
            
                <li data-name="Connection#req_defaults"><a href="Connection.html#req_defaults">req_defaults</a></li>
            
                <li data-name="Connection#request"><a href="Connection.html#request">request</a></li>
            
                <li data-name="Connection#url"><a href="Connection.html#url">url</a></li>
            
                <li data-name="Connection#useCookie"><a href="Connection.html#useCookie">useCookie</a></li>
            
                <li data-name="Connection#user"><a href="Connection.html#user">user</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Connection#delete"><a href="Connection.html#delete">delete</a></li>
            
                <li data-name="Connection#get"><a href="Connection.html#get">get</a></li>
            
                <li data-name="Connection#head"><a href="Connection.html#head">head</a></li>
            
                <li data-name="Connection#http_request"><a href="Connection.html#http_request">http_request</a></li>
            
                <li data-name="Connection#login_and_retry"><a href="Connection.html#login_and_retry">login_and_retry</a></li>
            
                <li data-name="Connection#make_request"><a href="Connection.html#make_request">make_request</a></li>
            
                <li data-name="Connection#openDB"><a href="Connection.html#openDB">openDB</a></li>
            
                <li data-name="Connection#post"><a href="Connection.html#post">post</a></li>
            
                <li data-name="Connection#put"><a href="Connection.html#put">put</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CouchError">
            <span class="title">
                <a href="CouchError.html">CouchError</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="CouchError#body"><a href="CouchError.html#body">body</a></li>
            
                <li data-name="CouchError#data"><a href="CouchError.html#data">data</a></li>
            
                <li data-name="CouchError#response"><a href="CouchError.html#response">response</a></li>
            
                <li data-name="CouchError#statusCode"><a href="CouchError.html#statusCode">statusCode</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CouchResult">
            <span class="title">
                <a href="CouchResult.html">CouchResult</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="CouchResult#body"><a href="CouchResult.html#body">body</a></li>
            
                <li data-name="CouchResult#data"><a href="CouchResult.html#data">data</a></li>
            
                <li data-name="CouchResult#response"><a href="CouchResult.html#response">response</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Database">
            <span class="title">
                <a href="Database.html">Database</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Database#conn"><a href="Database.html#conn">conn</a></li>
            
                <li data-name="Database#name"><a href="Database.html#name">name</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Database#copy"><a href="Database.html#copy">copy</a></li>
            
                <li data-name="Database#delete"><a href="Database.html#delete">delete</a></li>
            
                <li data-name="Database#get"><a href="Database.html#get">get</a></li>
            
                <li data-name="Database#head"><a href="Database.html#head">head</a></li>
            
                <li data-name="Database#make_request"><a href="Database.html#make_request">make_request</a></li>
            
                <li data-name="Database#post"><a href="Database.html#post">post</a></li>
            
                <li data-name="Database#put"><a href="Database.html#put">put</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Promise">
            <span class="title">
                <a href="Promise.html">Promise</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme"><h1>Tagesdecke - a thin CouchDB access library</h1><p><a href="https://travis-ci.org/Prakti/tagesdecke"><img src="https://travis-ci.org/Prakti/tagesdecke.svg?branch=master" alt="Build Status"></a><br><a href="https://coveralls.io/r/Prakti/tagesdecke?branch=master"><img src="https://img.shields.io/coveralls/Prakti/tagesdecke.svg" alt="Coverage Status"></a><br><a href="https://codeclimate.com/github/Prakti/tagesdecke"><img src="https://codeclimate.com/github/Prakti/tagesdecke/badges/gpa.svg" alt="Code Climate"></a><br><a href="https://david-dm.org/prakti/tagesdecke"><img src="https://david-dm.org/prakti/tagesdecke.svg" alt="Dependency Status"></a><br><a href="https://david-dm.org/prakti/tagesdecke#info=devDependencies"><img src="https://david-dm.org/prakti/tagesdecke/dev-status.svg" alt="devDependency Status"></a></p>
<p>This library is meant to be a thin access driver for CouchDB, easing most of<br>the low-level HTTP handling via convenience functions.</p>
<p>The term 'tagesdecke' is the german term for coverlet meant to be lying on a<br>couch.</p>
<p>The library is currently considered beta stage, minor API changes are going<br>to occur. Relax ever so slightly.</p>
<h2>Example usage in Node.js</h2><p>First import all the dependencies for usage:</p>
<pre class="prettyprint source lang-javascript"><code>var request = require('request');
var tagesdecke = require('tagesdecke');
var Promise = require('bluebird');</code></pre><p>Now configure the connection options. If you do not want to play on CouchDB in<br>Admin-Party mode, provide a user and a passwd. Afterwards we can open the<br>connection.</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
  user: 'user',
  passwd: 'passwd',
  useCookie: true 
};

var connection = new Connection('http://localhost:5984', request, options);</code></pre><p>Without Cookies, tagesdecke<br>will use the basic HTTP Auth mode and send the user and password in each<br>request. If you want to use cookies just set the <code>useCookie</code> flag and<br>tagesdecke will try to keep the session alive, even when CouchDB deliberately<br>kills it after a timeout. (See the CouchDB docs)</p>
<p>Theoretically you could now directly operate on the connection but you would<br>have to specify the database in the url of the requests. Since we want a bit<br>more convenience we will now care for opening a database. Since we want to<br>ensure that the database exists we will make HTTP calls to the CouchDB host<br>which will be represented by promises. Let's write a convenience function for<br>lazily ensuer that the database is always open:</p>
<pre class="prettyprint source lang-javascript"><code>var dbname = 'dbname';
var database = null;

// Write a convenience method for cached access to a database.
function open () {
  if (database) {
    return new Promise(function (resolve, reject) {
      resolve(database);
    });
  } else {
    return connection.openDB(dbname).then(function (_database) {
      database = _database;
      return database;
    });
  }
}</code></pre><p>Using that convenience method for opening the database we can now write a<br>function for retrieving a document by ID from the database:</p>
<pre class="prettyprint source lang-javascript"><code>// Function for simple access to a document.
function getDocument(id) {
  return open().get(id).then(function (result) {
    return result.body;
  });
}</code></pre><p>Et voila, now you can write your own abstraction layer on top of these two<br>objects while still accessing all the gory details of the CouchDB HTTP Api if<br>necessary. Enjoy.</p></article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Feb 15 2016 23:42:40 GMT+0100 (CET)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>